<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        //Math对象
            /* console.log(Math.PI);
            console.log(Math.max(1,5,8,2));
            console.log(Math.max(1,5,8,'hello',10));
            console.log(Math.max());//-Infinity无穷小 */
        //封装数学对象，含最大小值，PI
           /*  var myMath = {
                PI:3.14,
                max: function() {
                    var max = arguments[0];
                    for(var i = 1; i < arguments.length; i++){
                        if(arguments[i] > max){
                            max = arguments[i];
                        }
                    }
                    return max;
                },
                min: function() {
                    var min = arguments[0];
                    for(var i = 1; i < arguments.length; i++){
                        if(arguments[i] < min){
                            min = arguments[i];
                        }
                    }
                    return min;
                }
            }
            console.log(myMath.max(1,5,18,2));
            console.log(myMath.min(1,5,18,2)); */
        //绝对值
           /*  console.log(Math.abs(-5));
            console.log(Math.abs('-6'));//隐式转换
            console.log(Math.abs('hello'));//NaN */
        //三个取整方法
            //Math.floor向下取整，往最小的取值
            //Math.ceil向上取整，往最大的取值
            //Math.round四舍五入,负数往大的取
            /* console.log(Math.floor(1.1));
            console.log(Math.floor(1.9));
            console.log(Math.ceil(1.1));
            console.log(Math.ceil(1.9));
            console.log(Math.round(-1.1));
            console.log(Math.round(-1.5)); */

        //Math.random()返回随机小数，范围[0,1);方法里无参数
            /* console.log(Math.random());
            function getRandom(min, max) {
                return Math.floor(Math.random() * (max - min + 1)) + min;
            }
            var arr = ['A', 'B', 'C', 'D', 'E'];
            console.log(arr[getRandom(0, arr.length - 1)]); */

        //猜数字
            /* var input = prompt('请输入1~10的任意数字:');
            function getRandom(min, max) {
                return Math.floor(Math.random() * (max - min + 1)) + min;
            }
            while(input != getRandom(1, 10)){
                if (input > getRandom(1, 10)) {
                    alert('数字大了，继续猜');
                } else {
                    alert('数字小了，继续猜');
                }
                input = prompt('请输入1~10的任意数字:');
            }
            alert('恭喜答对，程序结束'); */

        //输入1~50之间任意数，只有10次机会
            /* var num = prompt('请输入1~50的任意数字:');
            function getRandom(min, max) {
                return Math.floor(Math.random() * (max - min + 1)) + min;
            }
            var random = getRandom(1, 50);
            var temp = [];
            for (var i = 0; i < 10; i++){
                if(num == random){
                    alert('恭喜答对，程序结束');
                    break;
                } else if(num > random) {
                    alert('数字大了，继续猜');
                } else {
                    alert('数字小了，继续猜');
                }
                temp[i] = num;
                num = prompt('请输入1~50的任意数字:');
            }
            alert('10次回答已用完,下次再来'); */

        //Date()是一个构造函数，必须用new调用
            //无参数，则返回当前系统的时间
            var date = new Date();
            console.log(date);
            //参数，则返回当前系统的时间
            var date1 = new Date('2020-10-01 08:08:08');
            console.log(date1 );

            var date2 = new Date();
            console.log(date2.getFullYear());
            console.log(date2.getMonth() + 1);//返回月份小1个月
            console.log(date2.getDate());
            console.log(date2.getDay());//周几 周日返回0
            console.log(date2.getHours());
            console.log(date2.getMinutes());
            console.log(date2.getSeconds());
        //封装一个函数返回当前的时分秒
            function getTime(){
                var date = new Date();
                var h = date.getHours();
                h = h < 10 ? '0' + h : h;
                var m = date.getMinutes();
                m = m < 10 ? '0' + m : m;
                var s = date.getSeconds();
                s = s < 10 ? '0' + s : s;
                return h + ':' + m + ':' + s;
            }
            console.log(getTime());
        //Date总的毫秒数（时间戳）
            var date = new Date();
            console.log(date.valueOf());
            console.log(date.getTime());
            var date1 = +new Date();
            console.log(date1);
            console.log(Date.now());//H5新增 获得总的毫秒数
        //倒计时效果
            function cuntDown(time){
                var nowTime = +new Date();
                var inputTime = + new Date(time);
                var times = (inputTime - nowTime) / 1000;//1秒=1000毫秒，获得总的秒数times
                var d = parseInt(times / 60 / 60 / 24);//parseInt()用于将字符串解析为整数。
                d = d < '10' ? '0' + d : d ;
                var h = parseInt(times / 60 / 60 % 24);
                h = h < '10' ? '0' + h : h ;
                var m = parseInt(times / 60 % 60);
                m = m < '10' ? '0' + m : m ;
                var s = parseInt(times % 60);
                s = s < '10' ? '0' + s : s ;

                return '倒计时' + d + '天' + h + '时' + m + '分' + s + '秒'
            }
            console.log(cuntDown('2024-2-15 18:00:00'));

        // 数组对象
            // 检测是否为数组
            var arr1 = [];
            var obj = {};
            console.log(arr1 instanceof Array);
            console.log(obj instanceof Array);
            
            console.log(Array.isArray(arr1));
            console.log(Array.isArray(obj));
        // 添加/删除数组元素
            //push()在数组末尾添加1个及以上的元素,从后往前。目的给数组追加新元素
            //push完后返回结果是新数组长度 console.log(arr.push(4,'hi'));//5
            //原数组会变化
            var arr = [1,2,3];
            arr.push(4,'hi');
            console.log(arr);

            //unshift在数组开头添加1个及以上的元素,从前往后。
            //原数组会变化
            arr.unshift('red', 23);
            console.log(arr);

            //pop()删除数组的最后一个元素，shift()删除数组的第一个元素，没有参数
            //一次删一个，pop完毕返回的结果是删除的元素
            console.log(arr.pop());
            console.log(arr);

            console.log(arr.shift());
            console.log(arr);
        //筛选数组
            var arr = [1500, 1200, 2000, 2100, 1800];
            var Arr = [];
            for(var i = 0; i < arr.length; i++){
                if (arr[i] < 2000){
                    Arr.push(arr[i]);    
                }
            }
            console.log(Arr);
        //翻转数组
            var arr = [1500, 1200, 2000, 2100, 1800];
            arr.reverse();
            console.log(arr);
        //数组的冒泡排序
            var arr = [1500, 1200, 2000, 2100, 1800];
            arr.sort();
            console.log(arr);

            var arr1 = [13, 4, 77, 1, 7];
            arr1.sort();
            console.log(arr1);// [1, 13, 4, 7, 77]结果并非期望那样

            arr1.sort(function(a, b) {
                return a - b;//升序排列；若b -a则为降序排列
            });
            console.log(arr1);
        //返回数组元素的索引号
            //只返回第一个满足条件的索引号
            //若在数组里未找到对于元素则返回-1；
            //indexOf('red')从前往后
            //lastIndexOf('red')从后往前
            var arr = ['red','green','pink','white','red','black'];
            console.log(arr.indexOf('red'));

            //数组去重
            function unique(arr){
                var elements = [];
                for (var i = 0;  i< arr.length; i++){
                    if (elements.indexOf(arr[i]) === -1){
                        elements.push(arr[i]);
                    }
                }
                return elements;
            }
            var alone = unique(['c','a','z','a','x','a','x','c','b']);
            console.log(alone);
        //数组转换为字符串
            //toString()
            var arr = [1,2,3];
            console.log(arr.toString());
            //join('分隔符'),返回字符串
            var arr1 = ['red','green','pink'];
            console.log(arr1.join());
            console.log(arr1.join('-'));
            //concat()连接多个数组返回新数组，不影响原数组
            var arr1 = ['c','a','z'];
            var arr2 = [1,2,3];
            var array3 = arr1.concat(arr2);
            console.log(array3);
            //slice()返回截取的新数组，不影响原数组
            var arr = ['red','green','pink','white','black'];
            console.log(arr.slice(2,-1));
            //splice()返回删除的元素组成的新数组，会影响原数组
            var months = ['Jan', 'March', 'April', 'June'];
            months.splice(1, 0, 'Feb');//第一个数字表位置，第二个数字表替换的元素数
            console.log(months);
            //console.log(months.splice(1, 0, 'Feb'));//这种写法输出无效
            months.splice(4, 1, 'Maybe');
            console.log(months);

        //字符串对象
            //对象和复杂数据类型才有属性和方法
            //基本包装类型就是将简单数据类型包装成复杂数据类型
            var str = 'andy';
            console.log(str.length);
            //上述实际变化是---------------
            var temp = new String('andy');
            str = temp;
            temp = null;
            //字符串的不可变，看上去好像是字符串的内容改变了，实际上是在内存中重新开辟空间存储并指向新空间
            var str = 'andy';
            console.log(str);
            str = 'red';
            console.log(str);
            //根据字符串返回位置,可以指定起始位置
            var str = '今天是星期天';
            console.log(str.indexOf('天'));//1
            console.log(str.indexOf('天',2));//5
            //返回字符串中某个元素出现的位置及次数
            var text = 'abcoefoxyozzopp';
            var start = text.indexOf('o');
            var num = 0;
            while(start !== -1){
                console.log(start);
                num++;
                start = text.indexOf('o',start + 1);
            }
            console.log(num);
            //根据位置返回字符
            //charAt()
            var str ='word';
            console.log(str.charAt(2));
            // ASCII码用于判断用户按的哪个键
            // charCodeAt()返回相应索引号的字符ASCII码

            console.log(str.charCodeAt(0));
            // str[],H5新增
            console.log(str[0]);
            //统计出现最多的字符和次数
            var text = 'abcoefoxyozzopp';
            var obj = {};
            for(var i = 0; i < text.length; i++){
                var element = text.charAt(i);
                if(obj[element]){
                    obj[element]++;
                }else {
                    obj[element] = 1;
                }
            }
            console.log(obj);
            var max = 0;
            for(var key in obj){
                if(obj[key] > max){
                    max = obj[key];
                    ch = key;
                }
            }
            console.log('出现最多的字符'+ch+'出现次数'+max);
            //字符串操作方法
            var str = 'sky';
            var text = str.concat('scraper');
            console.log(text);
            //substr(位置,截取字数)截取
            var result = text.substr(2,2);
            console.log(result);//ys
            //replace替换，只能替换第一个字符串
            var rep = result.replace('s', 'y');
            console.log(rep);
            var text = rep.concat('scraper');
            console.log(text);//yyscraper
            //将r替换为$
            while(text.indexOf('r') !== -1){
                text = text.replace('r', '$');
            }
            console.log(text);
            //split('分隔符')字符转换为数组，join('分隔符')数组转换为字符串
            var arr = text.split('$');
            console.log(arr);
            //toUpperCase()转换为大写
            //toLowerCase()转换为小写

            
    </script>
</body>
</html>